{% extends "base.html" %}

{% block title %}Preview of {{ filename }} - MobyGlobal{% endblock %}

{% block additional_styles %}
.csv-preview {
    width: 100%;
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    overflow: auto;
    margin-top: 20px;
    max-height: 80vh;
}

.csv-table {
    width: 100%;
    border-collapse: collapse;
}

.csv-table th, .csv-table td {
    padding: 10px 15px;
    text-align: left;
    border-bottom: 1px solid #eee;
}

.csv-table th {
    background-color: var(--primary-color);
    color: white;
    position: sticky;
    top: 0;
}

.csv-table tr:nth-child(even) {
    background-color: #f9f9f9;
}

.csv-table tr:hover {
    background-color: #f0f0f0;
}

.back-btn {
    margin: 15px 0;
    display: inline-block;
    padding: 8px 15px;
    background-color: var(--secondary-color);
    color: white;
    text-decoration: none;
    border-radius: 5px;
    transition: background-color 0.3s;
}

.back-btn:hover {
    background-color: var(--dark-color);
}

.csv-info {
    margin-bottom: 15px;
    color: #666;
}
{% endblock %}

{% block content %}
<div class="container">
    <header>
        <h1>Preview of {{ filename }}</h1>
    </header>
    
    <a href="/data" class="back-btn">‚Üê Back to Data Explorer</a>
    
    <div class="csv-info">
        <p>Showing preview of data (limited to 1000 rows). <a href="/static/data/{{ filename }}" download>Download full file</a></p>
    </div>
    
    <div class="csv-preview">
        <table class="csv-table">
            <thead>
                <tr>
                    {% for header in headers %}
                    <th>{{ header }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in data %}
                <tr>
                    {% for cell in row %}
                    <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
